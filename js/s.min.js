const s={initNav:function(){const notTopImgDom=$('.not-top-img')[0],logoDom=document.getElementById('blog-info'),weatherDom=document.getElementById('weather'),navDom=document.getElementById('nav');let sw_bar_slim=document.getElementsByClassName('sw-bar-slim')[0],sc_gisBJw=document.getElementsByClassName('sc-gisBJw')[0];let isdark=document.getElementsByTagName('html')[0].getAttribute('data-theme')=='dark';if(navDom){navDom.style.height='60px';navDom.style.position='fixed';navDom.style.top='0px'}const navBgTop0='transparent';const navBgColor='rgba(255, 255, 255, 0.6)';const navBgDarkColor='rgba(0, 0, 0, 0.6)';function changeNav(){isdark=document.getElementsByTagName('html')[0].getAttribute('data-theme')=='dark';navDom.style.background=document.documentElement.scrollTop>0?!isdark?navBgDarkColor:navBgColor:!notTopImgDom?navBgTop0:'transparent'}(function fontColor(scrolltop){navDom.style.color=!notTopImgDom?scrolltop>0?'var(--font-color)':'var(--light-grey)':'var(--font-color)';weatherDom.style.color='inherit';navDom.style.background=scrolltop>0?isdark?navBgDarkColor:navBgColor:navBgTop0})(document.documentElement.scrollTop);document.addEventListener('scroll',(e)=>{const scrolltop=e.target.documentElement.scrollTop;isdark=document.getElementsByTagName('html')[0].getAttribute('data-theme')=='dark';navDom.style.background=scrolltop>0?isdark?navBgDarkColor:navBgColor:navBgTop0;if(scrolltop>0){navDom.style.backdropFilter='saturate(1) blur(4px)';navDom.style.boxShadow=navDom.style['-webkit-box-shadow']='0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)'}else{navDom.style.backdropFilter='none';navDom.style.boxShadow=navDom.style['-webkit-box-shadow']='none'}navDom.style.color=!notTopImgDom?scrolltop>0?'var(--font-color)':'var(--light-grey)':'var(--font-color)';sc_gisBJw=document.getElementsByClassName('sc-gisBJw')[0];setTimeout(()=>{if(sc_gisBJw)sc_gisBJw.style.height=window.innerWidth>600?'100% !important':'100vh !important'})});const defaultLeft=10;let navStyle=null,logoStyle=null;if(window.getComputedStyle){navStyle=window.getComputedStyle(navDom);logoStyle=window.getComputedStyle(logoDom)}else{navStyle=navDom.currentStyle;logoStyle=logoDom.currentStyle}const logoWidth=logoStyle.width;const logo_width=parseFloat(logoWidth.slice(0,-2));function resetFn(w){if(w.innerWidth>768){logoDom.style.left='36px';navDom.style.paddingLeft='36px'}else{logoDom.style.left='16px';navDom.style.paddingLeft='16px'}const navPaddingLeft=navDom.style.paddingLeft;const nav_pdl=parseFloat(navPaddingLeft.slice(0,-2));weatherDom.style.left=nav_pdl+logo_width+defaultLeft+'px'}resetFn(window);window.addEventListener('resize',(e)=>{const win=e.target;resetFn(win)})},initFooter:function(){$('#firework-container').fireworks({sound:false,opacity:0.9,width:'100%',height:'100%'})},initGrayScale:function(){if(PublicSacrificeDay()){document.getElementsByTagName("html")[0].setAttribute("style","filter:gray !important;filter:grayscale(100%);-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);")}function PublicSacrificeDay(){var PSFarr=new Array("0403","0404","0405","0406","0414","0512","0707","0807","0814","0909","0918","0930","1025","1213");var currentdate=new Date();var str="";var mm=currentdate.getMonth()+1;if(currentdate.getMonth()>9){str+=mm}else{str+="0"+mm}if(currentdate.getDate()>9){str+=currentdate.getDate()}else{str+="0"+currentdate.getDate()}if(PSFarr.indexOf(str)>-1){return 1}else{return 0}}},initLunar:function(){(function(){var MAPPING=[[8,"0131","0301","0331","0429","0528","0627","0726","0825","0924","1023","1122","1222","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0913","1012","1111","1211","1310"],[0,"0208","0310","0408","0508","0606","0705","0804","0902","1002","1031","1130","1230"],[5,"0129","0227","0329","0427","0527","0625","0724","0823","0921","1020","1119","1219","1317"],[0,"0216","0317","0416","0515","0614","0713","0811","0910","1009","1107","1207","1306"],[0,"0204","0306","0405","0504","0603","0703","0801","0830","0929","1028","1127","1226"],[4,"0125","0223","0325","0424","0523","0622","0721","0820","0918","1018","1116","1216","1314"],[0,"0213","0314","0413","0512","0611","0710","0809","0908","1007","1106","1205","1304"],[0,"0202","0303","0401","0430","0530","0629","0728","0827","0925","1025","1124","1223"],[2,"0122","0220","0322","0420","0519","0618","0717","0816","0914","1014","1113","1213","1311"],[0,"0210","0311","0410","0509","0607","0707","0805","0904","1003","1102","1202","1301"],[6,"0130","0301","0330","0429","0528","0626","0726","0824","0922","1022","1121","1220","1319"],[0,"0218","0319","0417","0517","0615","0714","0813","0911","1010","1109","1209","1307"],[0,"0206","0308","0407","0506","0605","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0225","0327","0425","0525","0623","0723","0821","0920","1019","1117","1217","1315"],[0,"0214","0316","0414","0514","0613","0712","0811","0909","1009","1107","1207","1305"],[0,"0203","0304","0403","0502","0601","0630","0730","0829","0927","1027","1125","1225"],[2,"0123","0222","0323","0421","0521","0619","0719","0818","0916","1016","1115","1214","1313"],[0,"0211","0313","0411","0510","0609","0708","0807","0905","1005","1104","1203","1302"],[7,"0201","0302","0401","0430","0529","0628","0727","0825","0924","1024","1122","1222","1321"],[0,"0220","0320","0419","0518","0616","0716","0814","0912","1012","1110","1210","1309"],[0,"0208","0310","0408","0508","0606","0705","0804","0902","1001","1031","1129","1229"],[5,"0128","0227","0328","0427","0527","0625","0724","0823","0921","1020","1119","1218","1317"],[0,"0216","0317","0416","0516","0614","0714","0812","0911","1010","1108","1208","1306"],[0,"0205","0305","0404","0504","0602","0702","0801","0830","0929","1028","1127","1226"],[4,"0124","0223","0324","0423","0522","0621","0721","0819","0918","1018","1116","1216","1314"],[0,"0213","0314","0412","0512","0610","0710","0808","0907","1007","1105","1205","1304"],[0,"0202","0304","0402","0501","0531","0629","0729","0827","0926","1025","1124","1224"],[2,"0123","0221","0322","0420","0519","0618","0717","0815","0914","1013","1112","1212","1311"],[0,"0210","0311","0410","0509","0607","0707","0805","0903","1003","1101","1201","1231"],[6,"0130","0228","0330","0429","0528","0626","0726","0824","0922","1022","1120","1220","1319"],[0,"0217","0319","0418","0517","0616","0715","0814","0912","1011","1110","1209","1308"],[0,"0206","0307","0406","0506","0604","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0224","0326","0425","0524","0623","0722","0821","0920","1019","1118","1217","1315"],[0,"0214","0315","0414","0513","0612","0712","0810","0909","1008","1107","1207","1305"],[0,"0204","0305","0403","0503","0601","0701","0730","0829","0928","1027","1126","1226"],[3,"0124","0223","0323","0421","0521","0619","0718","0817","0916","1015","1114","1214","1313"],[0,"0211","0313","0411","0510","0609","0708","0806","0905","1004","1103","1203","1302"],[7,"0131","0302","0401","0430","0529","0628","0727","0825","0924","1023","1122","1222","1320"],[0,"0219","0321","0420","0519","0617","0717","0815","0913","1013","1111","1211","1309"],[0,"0208","0309","0408","0507","0606","0705","0804","0902","1001","1031","1129","1229"],[6,"0127","0226","0328","0426","0526","0625","0724","0823","0921","1020","1119","1218","1317"],[0,"0215","0317","0415","0515","0614","0713","0812","0910","1010","1108","1208","1306"],[0,"0205","0306","0405","0504","0603","0702","0801","0831","0929","1029","1127","1227"],[4,"0125","0224","0324","0423","0522","0621","0720","0819","0917","1017","1116","1215","1314"],[0,"0213","0314","0412","0512","0610","0709","0808","0906","1006","1105","1205","1303"],[0,"0202","0304","0402","0501","0531","0629","0728","0827","0925","1025","1124","1223"],[2,"0122","0221","0323","0421","0520","0619","0718","0816","0915","1014","1113","1212","1311"],[0,"0210","0311","0409","0509","0607","0707","0805","0903","1003","1101","1201","1230"],[7,"0129","0228","0329","0428","0528","0626","0726","0824","0922","1022","1120","1220","1318"],[0,"0217","0318","0417","0517","0615","0715","0814","0912","1011","1110","1209","1308"],[0,"0206","0308","0406","0506","0605","0704","0803","0901","1001","1030","1129","1228"],[5,"0127","0225","0326","0424","0524","0622","0722","0820","0919","1019","1117","1217","1315"],[0,"0214","0315","0414","0513","0611","0711","0810","0908","1008","1107","1206","1305"],[0,"0203","0305","0403","0503","0601","0630","0730","0828","0927","1027","1126","1225"],[3,"0124","0222","0324","0422","0522","0620","0719","0818","0916","1016","1114","1214","1313"],[0,"0212","0312","0411","0510","0609","0708","0806","0905","1004","1103","1203","1301"],[8,"0131","0302","0331","0430","0529","0628","0727","0825","0924","1023","1122","1221","1320"],[0,"0218","0320","0419","0519","0617","0717","0815","0913","1013","1111","1211","1309"],[0,"0208","0309","0408","0508","0606","0706","0804","0903","1002","1101","1130","1230"],[6,"0128","0227","0327","0426","0525","0624","0724","0822","0921","1020","1119","1218","1317"],[0,"0215","0317","0415","0515","0613","0713","0811","0910","1010","1108","1208","1306"],[0,"0205","0306","0405","0504","0602","0702","0731","0830","0929","1028","1127","1227"],[4,"0125","0224","0325","0424","0523","0621","0721","0819","0918","1017","1116","1216","1315"],[0,"0213","0314","0412","0512","0610","0709","0808","0906","1006","1104","1204","1303"],[0,"0202","0303","0402","0501","0531","0629","0728","0827","0925","1024","1123","1223"],[3,"0121","0220","0322","0421","0520","0619","0718","0816","0915","1014","1112","1212","1311"],[0,"0209","0311","0410","0509","0608","0708","0806","0904","1004","1102","1202","1231"],[7,"0130","0228","0329","0427","0527","0626","0725","0824","0922","1022","1120","1220","1318"],[0,"0217","0318","0417","0516","0615","0714","0813","0912","1011","1110","1209","1308"],[0,"0206","0308","0406","0505","0604","0703","0802","0901","0930","1030","1129","1228"],[5,"0127","0225","0327","0425","0524","0623","0722","0821","0919","1019","1118","1218","1316"],[0,"0215","0315","0414","0513","0611","0711","0809","0908","1007","1106","1206","1304"],[0,"0203","0305","0403","0503","0601","0630","0730","0828","0926","1026","1125","1224"],[4,"0123","0222","0324","0422","0522","0620","0719","0818","0916","1015","1114","1214","1312"],[0,"0211","0313","0412","0511","0610","0709","0807","0906","1005","1103","1203","1301"],[8,"0131","0301","0331","0429","0529","0627","0727","0825","0924","1023","1121","1221","1319"],[0,"0218","0320","0418","0518","0617","0716","0815","0913","1013","1111","1211","1309"],[0,"0207","0309","0407","0507","0606","0705","0804","0902","1002","1101","1130","1230"],[6,"0128","0227","0328","0426","0526","0624","0724","0823","0921","1021","1120","1219","1318"],[0,"0216","0317","0415","0514","0613","0712","0811","0909","1009","1108","1207","1306"],[0,"0205","0306","0405","0504","0602","0702","0731","0829","0928","1028","1126","1226"],[4,"0125","0224","0325","0424","0523","0621","0721","0819","0917","1017","1115","1215","1314"],[0,"0213","0315","0413","0513","0611","0710","0809","0907","1006","1105","1204","1303"],[10,"0202","0303","0401","0501","0531","0629","0728","0827","0925","1024","1123","1222","1321"],[0,"0220","0321","0420","0520","0618","0718","0816","0915","1014","1112","1212","1310"],[0,"0209","0310","0409","0509","0607","0707","0806","0904","1004","1102","1202","1231"],[6,"0129","0228","0329","0428","0527","0626","0726","0824","0923","1023","1121","1221","1319"],[0,"0217","0318","0416","0516","0614","0714","0812","0911","1011","1109","1209","1308"],[0,"0206","0308","0406","0505","0604","0703","0802","0831","0930","1029","1128","1228"],[5,"0127","0225","0327","0425","0524","0623","0722","0820","0919","1018","1117","1217","1316"],[0,"0215","0316","0415","0514","0612","0712","0810","0908","1008","1106","1206","1305"],[0,"0204","0304","0403","0503","0601","0630","0730","0828","0926","1026","1124","1224"],[3,"0123","0221","0323","0422","0521","0620","0719","0818","0916","1015","1114","1213","1312"],[0,"0210","0312","0411","0511","0609","0709","0807","0906","1005","1103","1203","1301"],[8,"0131","0301","0331","0430","0529","0628","0727","0826","0925","1024","1122","1222","1320"],[0,"0219","0319","0418","0517","0616","0715","0814","0912","1012","1111","1211","1309"],[0,"0207","0309","0407","0507","0605","0705","0803","0902","1002","1031","1130","1230"],[5,"0128","0227","0328","0426","0526","0624","0723","0822","0921","1020","1119","1219","1317"],[0,"0216","0318","0416","0515","0614","0713","0811","0910","1009","1108","1208","1307"],[0,"0205","0306","0405","0504","0602","0702","0731","0829","0928","1027","1126","1226"],[4,"0124","0223","0325","0423","0523","0621","0721","0819","0917","1017","1115","1215","1313"],[0,"0212","0314","0413","0512","0611","0710","0809","0907","1006","1105","1204","1303"],[0,"0201","0303","0402","0501","0531","0630","0729","0828","0926","1025","1124","1223"],[2,"0122","0220","0321","0419","0519","0618","0717","0816","0914","1014","1112","1212","1310"],[0,"0209","0310","0409","0508","0607","0706","0805","0904","1003","1102","1201","1231"],[7,"0129","0228","0329","0428","0527","0626","0725","0824","0922","1022","1121","1220","1319"],[0,"0218","0319","0417","0517","0615","0714","0813","0911","1011","1110","1210","1308"],[0,"0207","0308","0406","0505","0604","0703","0801","0831","0929","1029","1128","1227"],[5,"0126","0225","0327","0425","0524","0623","0722","0820","0919","1018","1117","1216","1315"],[0,"0214","0316","0414","0514","0612","0712","0810","0908","1008","1106","1206","1304"],[0,"0203","0305","0403","0503","0602","0701","0731","0829","0927","1027","1125","1225"],[4,"0123","0222","0322","0421","0521","0619","0719","0817","0916","1015","1114","1213","1312"],[0,"0210","0312","0410","0510","0608","0708","0807","0905","1005","1103","1203","1301"],[9,"0131","0301","0331","0429","0529","0627","0727","0825","0924","1024","1122","1222","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0913","1013","1112","1211","1310"],[0,"0208","0309","0407","0507","0605","0704","0803","0901","1001","1031","1129","1229"],[6,"0128","0226","0328","0426","0526","0624","0723","0822","0920","1020","1118","1218","1317"],[0,"0216","0317","0416","0515","0614","0713","0811","0910","1009","1108","1207","1306"],[0,"0205","0307","0405","0505","0603","0703","0801","0830","0929","1028","1126","1226"],[4,"0125","0223","0324","0423","0523","0621","0721","0819","0917","1017","1115","1215","1313"],[0,"0212","0313","0412","0512","0610","0710","0808","0907","1006","1105","1204","1303"],[0,"0201","0303","0401","0501","0530","0629","0729","0827","0926","1025","1124","1223"],[2,"0122","0220","0322","0420","0519","0618","0718","0816","0915","1015","1113","1213","1311"],[0,"0210","0310","0409","0508","0606","0706","0804","0903","1003","1101","1201","1231"],[6,"0129","0228","0329","0428","0527","0625","0725","0823","0922","1021","1120","1220","1319"],[0,"0217","0319","0417","0517","0615","0714","0813","0911","1010","1109","1209","1308"],[0,"0206","0308","0407","0506","0605","0704","0802","0901","0930","1029","1128","1228"],[5,"0126","0225","0326","0425","0524","0623","0722","0820","0919","1018","1116","1216","1315"],[0,"0213","0315","0414","0513","0612","0711","0810","0908","1008","1106","1205","1304"],[0,"0203","0304","0403","0502","0601","0701","0730","0829","0927","1027","1125","1225"],[3,"0123","0221","0323","0422","0521","0620","0719","0818","0917","1016","1115","1214","1313"],[0,"0211","0312","0410","0509","0608","0707","0806","0905","1004","1103","1203","1301"],[7,"0131","0301","0331","0429","0528","0627","0726","0825","0923","1023","1122","1222","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0913","1012","1111","1211","1309"],[0,"0208","0310","0408","0508","0606","0705","0804","0902","1001","1031","1130","1229"],[6,"0128","0227","0328","0426","0526","0624","0723","0822","0920","1019","1118","1217","1316"],[0,"0215","0317","0416","0515","0614","0713","0811","0910","1009","1107","1207","1305"],[0,"0204","0306","0405","0504","0603","0702","0801","0830","0929","1028","1126","1226"],[5,"0124","0223","0325","0423","0523","0622","0721","0820","0918","1018","1116","1216","1314"],[0,"0212","0313","0411","0511","0610","0709","0808","0906","1006","1105","1204","1303"],[0,"0201","0302","0401","0430","0530","0628","0728","0827","0925","1025","1124","1223"],[2,"0122","0220","0322","0420","0519","0618","0717","0816","0914","1014","1113","1212","1311"],[0,"0210","0311","0410","0509","0607","0707","0805","0903","1003","1102","1201","1231"],[7,"0130","0229","0329","0428","0527","0625","0725","0823","0921","1021","1119","1219","1318"],[0,"0217","0319","0417","0517","0615","0714","0813","0911","1010","1109","1208","1307"],[0,"0206","0308","0406","0506","0604","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0225","0326","0425","0525","0623","0723","0821","0920","1019","1117","1217","1315"],[0,"0214","0314","0413","0513","0611","0711","0810","0908","1008","1106","1205","1304"],[0,"0202","0304","0402","0502","0531","0630","0730","0828","0927","1027","1125","1225"],[3,"0123","0221","0323","0421","0521","0619","0719","0817","0916","1016","1114","1214","1313"],[0,"0211","0313","0411","0510","0609","0708","0806","0905","1005","1103","1203","1302"],[8,"0201","0301","0331","0429","0528","0627","0726","0824","0923","1022","1121","1221","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0912","1012","1110","1210","1309"],[0,"0208","0309","0408","0508","0606","0705","0804","0902","1001","1031","1129","1229"],[6,"0128","0226","0328","0427","0526","0625","0724","0823","0921","1020","1119","1218","1317"],[0,"0215","0316","0415","0515","0613","0713","0811","0910","1009","1107","1207","1305"],[0,"0204","0305","0404","0504","0602","0702","0731","0830","0929","1028","1126","1226"],[4,"0124","0223","0324","0423","0522","0621","0720","0819","0918","1017","1116","1216","1314"],[0,"0212","0314","0412","0512","0610","0710","0808","0907","1006","1105","1205","1304"],[0,"0202","0303","0401","0501","0530","0628","0727","0826","0924","1024","1123","1223"],[3,"0121","0220","0322","0420","0519","0618","0717","0815","0914","1013","1112","1212","1311"],[0,"0209","0311","0410","0509","0607","0707","0805","0903","1003","1101","1201","1231"],[7,"0129","0228","0330","0428","0528","0626","0726","0824","0922","1022","1120","1220","1318"],[0,"0217","0318","0417","0516","0615","0714","0813","0911","1010","1109","1208","1307"],[0,"0205","0307","0406","0505","0604","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0224","0326","0424","0524","0623","0722","0821","0919","1019","1117","1217","1315"],[0,"0214","0315","0414","0513","0612","0711","0810","0909","1008","1107","1206","1305"],[0,"0203","0304","0402","0502","0531","0629","0729","0828","0926","1026","1125","1224"],[4,"0123","0221","0323","0421","0521","0619","0718","0817","0915","1015","1114","1214","1312"],[0,"0211","0312","0411","0510","0609","0708","0806","0905","1004","1103","1203","1301"],[8,"0131","0302","0331","0430","0529","0628","0727","0825","0924","1023","1122","1221","1320"],[0,"0219","0320","0418","0518","0616","0716","0814","0912","1012","1110","1210","1308"],[0,"0207","0309","0407","0507","0606","0705","0804","0902","1001","1031","1129","1229"],[6,"0127","0226","0327","0426","0526","0624","0724","0822","0921","1020","1119","1218","1317"],[0,"0215","0317","0415","0515","0613","0713","0812","0910","1010","1108","1208","1306"],[0,"0205","0305","0404","0503","0602","0701","0731","0829","0928","1028","1126","1226"],[4,"0124","0223","0324","0423","0522","0620","0720","0818","0917","1017","1116","1215","1314"],[0,"0212","0314","0412","0512","0610","0709","0808","0906","1006","1105","1204","1303"],[0,"0202","0303","0402","0501","0531","0629","0728","0827","0925","1025","1123","1223"],[3,"0122","0221","0321","0420","0519","0618","0717","0815","0914","1013","1111","1211","1310"],[0,"0209","0310","0409","0509","0607","0707","0805","0903","1003","1101","1130","1230"],[7,"0129","0227","0329","0428","0528","0626","0725","0824","0922","1022","1120","1219","1318"],[0,"0217","0318","0417","0517","0615","0715","0813","0912","1011","1110","1209","1308"],[0,"0206","0307","0405","0505","0603","0703","0802","0831","0930","1029","1128","1227"],[5,"0126","0224","0326","0424","0523","0622","0722","0820","0919","1019","1117","1217","1315"],[0,"0214","0315","0414","0513","0611","0711","0809","0908","1008","1106","1206","1305"],[0,"0203","0305","0403","0503","0601","0630","0730","0828","0927","1026","1125","1225"],[4,"0124","0222","0323","0421","0521","0619","0718","0817","0915","1014","1113","1213","1312"],[0,"0210","0312","0411","0510","0609","0708","0806","0904","1004","1102","1202","1301"],[8,"0130","0301","0331","0430","0529","0628","0727","0825","0924","1023","1121","1221","1320"],[0,"0218","0320","0419","0518","0617","0716","0815","0913","1013","1111","1210","1309"],[0,"0207","0308","0407","0506","0605","0705","0803","0902","1001","1031","1129","1229"],[6,"0127","0225","0327","0426","0525","0624","0723","0822","0921","1020","1119","1218","1317"],[0,"0215","0316","0415","0514","0613","0712","0811","0910","1009","1108","1208","1306"],[0,"0205","0306","0405","0504","0602","0702","0731","0830","0928","1028","1127","1227"],[4,"0125","0224","0324","0423","0522","0620","0720","0818","0916","1016","1115","1215","1313"],[0,"0212","0314","0412","0512","0610","0709","0808","0906","1005","1104","1204","1302"],[0,"0201","0303","0402","0501","0531","0629","0728","0826","0925","1024","1123","1222"],[2,"0121","0220","0322","0420","0520","0619","0718","0816","0915","1014","1112","1212","1310"]];var MINYEAR=1900;var _chineseLunar={};var _expression=function(expr){var list=expr.match(/[+-]?\d+((ms)|[yMdhmsw])/g);var result=[];for(var i=0;i<list.length;i++){if(/([+-])(\d+)(.+)/.test(list[i])){var val=parseInt(RegExp.$2);if(RegExp.$1==="-")val=-val;result.push({value:val,unit:RegExp.$3})};return result}};var _solarDiff=function(left,right,interval){var span=left.getTime()-right.getTime();switch(interval){case"y":return parseInt(left.getFullYear()-right.getFullYear());case"M":return parseInt((left.getFullYear()-right.getFullYear())*12+(left.getMonth()-right.getMonth()));case"d":return Math.ceil(span/1000/60/60/24);case"w":return Math.floor(span/1000/60/60/24/7);case"h":return Math.floor(span/1000/60/60);case"m":return Math.floor(span/1000/60);case"s":return Math.floor(span/1000);case"ms":return parseInt(span)}};var _solarAdd=function(date,expr){};var _findLunar=function(solar,index,minMonth,maxMonth,isPreYear){var mapping=MAPPING[index];if(!mapping)return false;var year=solar.getFullYear(),month=solar.getMonth()+1,date=solar.getDate();var lunarYear=year;var lunarMonth,find,solarMonth;for(var i=mapping.length-1;i>0;i--){lunarMonth=i;var segMonth=Number(mapping[i].substring(0,2));var segDay=Number(mapping[i].substring(2,4));solarMonth=isPreYear&&segMonth>12?segMonth-12:segMonth;find=solarMonth<month||(solarMonth==month&&segDay<=date)||((segMonth<=minMonth||segMonth>=maxMonth)&&isPreYear);if((solarMonth==12&&solarMonth>month&&i==1)){find=true;year--};if(find)break}if(!find)return false;if(isPreYear&&segMonth==12)year=year-1;lunarYear=isPreYear?lunarYear-1:lunarYear;return{year:year,month:solarMonth,day:segDay,lunarYear:lunarYear,lunarMonth:lunarMonth,leapMonth:mapping[0]}};var _dateAdd=function(lunar,value,unit){if(unit=='M'){return _chineseLunar.monthAdd(lunar,value)}else{var solar=_chineseLunar.lunarToSolar(lunar);solar=_solarAdd(solar,value,unit);return _chineseLunar.solarToLunar(solar)}};_chineseLunar.dateAdd=function(lunar,expr){var list=_expression(expr);for(var i=0;i<list.length;i++){lunar=_dateAdd(lunar,list[i])};return lunar};_chineseLunar.dateDiff=function(lunar1,lunar2,expr){if(expr=="M"){return _chineseLunar.monthDiff(lunar1,lunar2)};var solar1=_chineseLunar.lunarToSolar(lunar1);var solar2=_chineseLunar.lunarToSolar(lunar2);return _solarDiff(solar2,solar1,expr)};_chineseLunar.monthAdd=function(lunar,inc){if(lunar instanceof Date)lunar=_chineseLunar.solarToLunar(lunar);if(inc==0)return lunar;var year=lunar.year,count;var month=lunar.month;if(lunar.leap||(lunar.leapMonth>0&&lunar.month>lunar.leapMonth))month++;var run=true;do{count=_chineseLunar.monthsOfYear(year);inc=inc+month-count;if(inc<=0){run=false;month=year==lunar.year?count+inc:count+inc-month}else{year++;month=1}}while(run);var leapMonth=_chineseLunar.leapMonthOfYear(year);var leap=false;if(leapMonth>0&&month>leapMonth){month--;leap=month==leapMonth}return{year:year,month:month,leap:leap,leapMonth:leapMonth}};_chineseLunar.monthDiff=function(lunar1,lunar2){var count=0;if(lunar1 instanceof Date)lunar1=_chineseLunar.solarToLunar(lunar1);if(lunar2 instanceof Date)lunar2=_chineseLunar.solarToLunar(lunar2);if(lunar1.year==lunar2.year){count=lunar2.month-lunar1.month;if(lunar1.leapMonth>=lunar1.month&&lunar1.leapMonth<=lunar2.month)count++}else{count=12;if(lunar1.leapMonth>lunar1.month||(lunar1.leapMonth==lunar1.month&&!lunar1.isLeaMonth))count+=1;count-=lunar1.month;var year=lunar1.year+1;for(var i=year;i<lunar2.year;i++){count+=_chineseLunar.monthsOfYear(year++)}count+=lunar2.month;if(lunar2.isLeapMonth||lunar2.month<lunar2.leapMonth)count++};return count};_chineseLunar.daysOfMonth=function(year,month,leap){if(typeof(year)=="object"){month=year.month;leap=year.leap;year=year.year};var date1=_chineseLunar.lunarToSolar(year,month,1,leap);var leapMonth=_chineseLunar.leapMonthOfYear(year);if(leapMonth==month&&!leap){leap=true}else if(month==12){year++;month=1}else{leap=false;month++};var date2=_chineseLunar.lunarToSolar(year,month,1,leap);return _chineseLunar.dateDiff(date2,date1,"d")};_chineseLunar.monthsOfYear=function(year){return MAPPING[year-MINYEAR].length-1};_chineseLunar.leapMonthOfYear=function(year){var info=MAPPING[year-MINYEAR];return info?info[0]:0};_chineseLunar.lunarToSolar=function(year,month,day,leap){var arg0=arguments[0];if(typeof(arg0)=="object"&&arguments.length==1){year=arg0.year;month=arg0.month;day=arg0.day;leap=arg0.leap};var offset=year-MINYEAR;if(offset<0||offset>MAPPING.length){throw new Error('Specified date range is invalid.');};var leapMonth=MAPPING[offset][0];if((leap&&month==leapMonth)||(leapMonth>0&&month>leapMonth)){month+=1};var segment=MAPPING[offset][month];var mapMonth=Number(segment.substring(0,2));var mapDate=Number(segment.substring(2,4));if(mapMonth>12){year+=1;mapMonth-=12};var solar=new Date(year,mapMonth-1,mapDate);var time=solar.getTime()+((day-1)*24*60*60*1000);return new Date(time)};_chineseLunar.solarToLunar=function(solar,format){var offset=solar.getFullYear()-MINYEAR;if(offset<=0||offset>=MAPPING.length){throw new Error('Specified date range is invalid.');};var data=_findLunar(solar,offset,0,13,false);data=data||_findLunar(solar,offset-1,12,99,true);if(!data)return false;var firstDay=new Date(data.year,data.month-1,data.day);var day=_solarDiff(solar,firstDay,"d")+1;var result={leap:data.leapMonth>0&&data.leapMonth+1==data.lunarMonth,year:data.lunarYear,month:data.leapMonth>0&&data.lunarMonth>data.leapMonth?data.lunarMonth-1:data.lunarMonth,day:day,leapMonth:data.leapMonth};return(format&&result)?_chineseLunar.format(result,format):result};_chineseLunar.traditionalYearName=function(year){var Gan="甲乙丙丁戊己庚辛壬癸".split("");var Zhi="子丑寅卯辰巳午未申酉戌亥".split("");year=year-MINYEAR+36;return(Gan[year%10]+Zhi[year%12]+"年")};_chineseLunar.yearName=function(year){var cnStr='〇,一,二,三,四,五,六,七,八,九'.split(",");var cYear=year.toString();var result='';for(var i=0;i<cYear.length;i++){result+=cnStr[parseInt(cYear.charAt(i))]}return result+'年'};_chineseLunar.animalName=function(year){return"鼠牛虎兔龙蛇马羊猴鸡狗猪".split("")[(year-4)%12]};_chineseLunar.monthName=function(month,traditional,leap){var monthName="正,二,三,四,五,六,七,八,九,十,十一,十二".split(",");if(traditional){monthName[11]="腊"}return(leap?"闰":"")+monthName[month-1]+"月"};_chineseLunar.dayName=function(lunar){switch(lunar){case 10:return'初十';case 20:return'二十';case 30:return'三十';default:return("初十廿卅".split("")[Math.floor(lunar/10)]+"一二三四五六七八九十".split("")[(lunar-1)%10])||lunar}};_chineseLunar.format=function(lunar,expr){return expr.replace(/[TAYyMmdD]/g,function(m,i){switch(m){case"T":return _chineseLunar.traditionalYearName(lunar.year);case"A":return _chineseLunar.animalName(lunar.year);case"Y":return _chineseLunar.yearName(lunar.year);case"y":return lunar.year;case"m":return _chineseLunar.monthName(lunar.month,false,lunar.leap);case"M":return _chineseLunar.monthName(lunar.month,true,lunar.leap);case"d":return _chineseLunar.dayName(lunar.day);case"D":if(lunar.day==1){return _chineseLunar.monthName(lunar.month,false,lunar.leap)}else{return _chineseLunar.dayName(lunar.day)}}})};if(typeof define==='function'){define(function(){return _chineseLunar})}else if(typeof exports==='object'){module.exports=_chineseLunar}else{window.chineseLunar=_chineseLunar}})()},initNewYear:function(){const year='2024',newYearDay='2024-02-10 00:00:00';let newYearTimer=null;var newYear=()=>{clearTimeout(newYearTimer);if(!document.querySelector('#newYear'))return;let newYear=new Date(newYearDay).getTime()/1000,week={0:'周日',1:'周一',2:'周二',3:'周三',4:'周四',5:'周五',6:'周六'};time();function nol(h){return h>9?h:'0'+h};function time(){let now=new Date();document.querySelector('#newYear .today').innerHTML='今日：'+now.getFullYear()+'-'+(now.getMonth()+1)+'-'+now.getDate()+' '+week[now.getDay()];let second=newYear-Math.round(now.getTime()/1000);if(second<=0){document.querySelector('#newYear .title').innerHTML='Happy New Year!';document.querySelector('#newYear .newYear-time').innerHTML='<span class="happyNewYear">新年快乐</span>'}else{document.querySelector('#newYear .title').innerHTML=`距离${year}年春节：`;if(second>86400){document.querySelector('#newYear .newYear-time').innerHTML=`<span class="day">${Math.ceil(second/86400)}<span class="unit">天</span></span>`}else{let h=nol(parseInt(second/3600));second%=3600;let m=nol(parseInt(second/60));second%=60;let s=nol(second);document.querySelector('#newYear .newYear-time').innerHTML=`<span class="time">${h}:${m}:${s}</span></span>`;newYearTimer=setTimeout(time,1000)}}}jQuery(document).ready(function($){$('#newYear').wpSuperSnow({flakes:['//qiniu.slk427.top/blog/img/yb1.webp','//qiniu.slk427.top/blog/img/yb2.webp','//qiniu.slk427.top/blog/img/yb3.webp'],totalFlakes:'100',zIndex:'1',maxSize:'30',maxDuration:'20',useFlakeTrans:false})})};newYear();function whenDOMReady(){newYear()}document.addEventListener("pjax:complete",whenDOMReady)},runtime:function(){setInterval(()=>{let create_time=Math.round(new Date('2023/05/30 00:00:00').getTime()/1000);let timestamp=Math.round(new Date().getTime()/1000);let second=timestamp-create_time;let time=new Array(0,0,0,0,0);var nol=function(h){return h>9?h:'0'+h};if(second>=24*3600){time[1]=parseInt(second/(24*3600));second%=24*3600}if(second>=3600){time[2]=nol(parseInt(second/3600));second%=3600}if(second>=60){time[3]=nol(parseInt(second/60));second%=60}if(second>=0){time[4]=nol(second)}let currentTimeHtml='';if(time[0]!=0){currentTimeHtml+=time[0]+' 年 '}currentTimeHtml+=time[1]+' 天 '+time[2]+' : '+time[3]+' : '+time[4];document.getElementById('runtime').innerHTML=currentTimeHtml},1000)},initCalendar:function(){function cardRefreshTimes(){var now=new Date();var a_t_r=document.getElementById("aside-time-right");if(a_t_r)a_t_r.innerHTML=now.getHours().toString().padStart(2,'0')+":"+now.getMinutes().toString().padStart(2,'0')+":"+now.getSeconds().toString().padStart(2,'0')}cardRefreshTimes();setInterval(()=>{cardRefreshTimes()},1000);function cardTimes(){var now=new Date(),year=now.getFullYear(),month=now.getMonth(),week=now.getDay(),date=now.getDate(),dates,weekStr,monthStr,asideTime,asideDay,asideDayNum,animalYear,ganzhiYear,lunarMon,lunarDay;var year_flag=year%4==0&&year%100!=0||year%400==0?true:false;switch(week){case 0:weekStr="周日";break;case 1:weekStr="周一";break;case 2:weekStr="周二";break;case 3:weekStr="周三";break;case 4:weekStr="周四";break;case 5:weekStr="周五";break;case 6:weekStr="周六";break;default:console.log("异常情况")}switch(month){case 0:monthStr="一月";dates=31;break;case 1:monthStr="二月";dates=year_flag?29:28;break;case 2:monthStr="三月";dates=31;break;case 3:monthStr="四月";dates=30;break;case 4:monthStr="五月";dates=31;break;case 5:monthStr="六月";dates=30;break;case 6:monthStr="七月";dates=31;break;case 7:monthStr="八月";dates=31;break;case 8:monthStr="九月";dates=30;break;case 9:monthStr="十月";dates=31;break;case 10:monthStr="十一月";dates=30;break;case 11:monthStr="十二月";dates=31;break;default:console.log("异常情况")}var week_first=(week+8-date%7)%7;var count_days="";var count_flag=false;var ds;var row_h=7-week_first;var row_f=(dates-row_h)%7;var rows=row_f==0?Math.floor((dates-row_h)/7)+1:Math.floor((dates-row_h)/7)+2;var calendar=document.getElementById("calendar-main");var gap=document.getElementById("calendar-date");if(gap){switch(rows){case 4:gap.style.marginBottom="";break;case 5:gap.style.marginBottom="1.2rem";break;case 6:gap.style.marginBottom="2.4rem";break;default:gap.style.marginBottom="2.4rem"}}if(calendar){for(let r=0;r<rows;r++){if(calendar.querySelector(".calendar-r"+r)==null){calendar.innerHTML+="<div class='calendar-r"+r+"'></div>"}for(let d=0;d<7;d++){if(r==0&&d==week_first){count_days=1;count_flag=true}if(count_days==date){ds=" class='now'"}else ds="";if(calendar.querySelector(".calendar-r"+r+" .calendar-d"+d+" a")==null){calendar.querySelector(".calendar-r"+r).innerHTML+="<div class='calendar-d"+d+"'><a"+ds+">"+count_days+"</a></div>"}if(count_days>=dates){count_days="";count_flag=false}if(count_flag)count_days+=1}}}if(chineseLunar){var lunar=chineseLunar.solarToLunar(new Date(year,month,date));animalYear=chineseLunar.format(lunar,"A");ganzhiYear=chineseLunar.format(lunar,"T").slice(0,-1);lunarMon=chineseLunar.format(lunar,"M");lunarDay=chineseLunar.format(lunar,"d");asideTime=new Date("2023/01/01 00:00:00");asideDay=(now-asideTime)/1e3/60/60/24;asideDayNum=Math.floor(asideDay)}var asideWeekNum=((week-asideDayNum%7)>=0)?(Math.ceil(asideDayNum/7)):(Math.ceil(asideDayNum/7)+1);var c_m=document.getElementById("calendar-month");var c_w=document.getElementById("calendar-week");var c_d=document.getElementById("calendar-date");var c_a=document.getElementById("calendar-animal");var c_l=document.getElementById("calendar-lunar");var a_t_l=document.getElementById("aside-time-left");if(c_m)c_m.innerHTML=monthStr;if(c_w)c_w.innerHTML=weekStr;if(c_d)c_d.innerHTML=date.toString().padStart(2,'0');if(c_a)c_a.innerHTML=ganzhiYear+animalYear+"年";if(c_l)c_l.innerHTML=lunarMon+lunarDay;if(a_t_l)a_t_l.innerHTML=`<span style="margin-right:2px;">${year}</span><span style='font-size:0.95rem;font-weight:bold;'>第</span><span style="margin:0px 2px;">${asideWeekNum}</span><span style='font-size:0.95rem;font-weight:bold;'>周</span>`}function whenDOMReady(){cardTimes()}whenDOMReady();document.addEventListener("pjax:complete",whenDOMReady)},initOperate:function(){const darkmode=document.getElementById('darkmode');darkmode.addEventListener('click',(e)=>{changeNav()})},initUniverse:function(){function dark(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var n,e,i,h,t=0.05,s=document.getElementById('universe'),o=!0,a='180,184,240',r='226,225,142',d='226,225,224',c=[];function f(){;(n=window.innerWidth),(e=window.innerHeight),(i=0.216*n),s.setAttribute('width',n),s.setAttribute('height',e)}function u(){h.clearRect(0,0,n,e);for(var t=c.length,i=0;i<t;i++){var s=c[i];s.move(),s.fadeIn(),s.fadeOut(),s.draw()}}function y(){;(this.reset=function(){;(this.giant=m(3)),(this.comet=!this.giant&&!o&&m(10)),(this.x=l(0,n-10)),(this.y=l(0,e)),(this.r=l(1.1,2.6)),(this.dx=l(t,6*t)+(this.comet+1-1)*t*l(50,120)+2*t),(this.dy=-l(t,6*t)-(this.comet+1-1)*t*l(50,120)),(this.fadingOut=null),(this.fadingIn=!0),(this.opacity=0),(this.opacityTresh=l(0.2,1-0.4*(this.comet+1-1))),(this.do=l(5e-4,0.002)+0.001*(this.comet+1-1))}),(this.fadeIn=function(){this.fadingIn&&((this.fadingIn=!(this.opacity>this.opacityTresh)),(this.opacity+=this.do))}),(this.fadeOut=function(){this.fadingOut&&((this.fadingOut=!(this.opacity<0)),(this.opacity-=this.do/2),(this.x>n||this.y<0)&&((this.fadingOut=!1),this.reset()))}),(this.draw=function(){if((h.beginPath(),this.giant))(h.fillStyle='rgba('+a+','+this.opacity+')'),h.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){;(h.fillStyle='rgba('+d+','+this.opacity+')'),h.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;t<30;t++)(h.fillStyle='rgba('+d+','+(this.opacity-(this.opacity/20)*t)+')'),h.rect(this.x-(this.dx/4)*t,this.y-(this.dy/4)*t-2,2,2),h.fill()}else(h.fillStyle='rgba('+r+','+this.opacity+')'),h.rect(this.x,this.y,this.r,this.r);h.closePath(),h.fill()}),(this.move=function(){;(this.x+=this.dx),(this.y+=this.dy),!1===this.fadingOut&&this.reset(),(this.x>n-n/4||this.y<0)&&(this.fadingOut=!0)}),setTimeout(function(){o=!1},50)}function m(t){return Math.floor(1e3*Math.random())+1<10*t}function l(t,i){return Math.random()*(i-t)+t}f(),window.addEventListener('resize',f,!1),(function(){h=s.getContext('2d');for(var t=0;t<i;t++)(c[t]=new y()),c[t].reset();u()})(),(function t(){document.getElementsByTagName('html')[0].getAttribute('data-theme')=='dark'&&u(),window.requestAnimationFrame(t)})()}dark()},initWeather:function(){(function(a,h,g,f,e,d,c,b){b=function(){d=h.createElement(g);c=h.getElementsByTagName(g)[0];d.src=e;d.charset="utf-8";d.async=1;c.parentNode.insertBefore(d,c)};a["SeniverseWeatherWidgetObject"]=f;a[f]||(a[f]=function(){(a[f].q=a[f].q||[]).push(arguments)});a[f].l=+new Date();if(a.attachEvent){a.attachEvent("onload",b)}else{a.addEventListener("load",b,false)}}(window,document,"script","SeniverseWeatherWidget","//cdn.sencdn.com/widget2/static/js/bundle.js?t="+parseInt((new Date().getTime()/100000000).toString(),10)));window.SeniverseWeatherWidget('show',{flavor:"slim",location:"WW317SR5ZWKC",geolocation:true,language:"auto",unit:"c",theme:"auto",token:"cf4d3206-a790-4a0f-a286-2f1fb1ccf655",hover:"enabled",container:"tp-weather-widget"})},initWeibo:function(){try{if(document.getElementById('weibo').clientWidth)weibo()}catch(error){}function weibo(){let hotness={'爆':'weibo-boom','热':'weibo-hot','沸':'weibo-boil','新':'weibo-new','荐':'weibo-recommend','影':'weibo-jyzy','剧':'weibo-jyzy','综':'weibo-jyzy'};let html='<div id="weibo-container">';let data=JSON.parse(localStorage.getItem('weibo'));let nowTime=Date.now();let ls;if(data==null||nowTime-data.time>600000){getData();return}else{ls=JSON.parse(data.ls)};for(let item of ls){html+='<div class="weibo-list-item"><div class="weibo-hotness '+hotness[(item.hot||'荐')]+'">'+(item.hot||'荐')+'</div><span class="weibo-title"><a title="'+item.title+'"href="'+item.url+'" target="_blank" rel="external nofollow noreferrer">'+item.title+'</a></span><div class="weibo-num"><span>'+item.num+'</span></div></div>'}html+='</div>';document.getElementById('weiboContent').innerHTML=html}function getData(){fetch('https://weibo-top-api.vercel.app/api').then(data=>data.json()).then(data=>{data={time:Date.now(),ls:JSON.stringify(data)};localStorage.setItem('weibo',JSON.stringify(data))}).then(weibo)}}};s.initNav();s.initFooter();s.initGrayScale();s.initLunar();s.initNewYear();s.runtime();s.initCalendar();s.initOperate();s.initUniverse();s.initWeather();s.initWeibo();